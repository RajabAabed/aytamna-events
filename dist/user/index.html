<!DOCTYPE html>
<html
  lang="ar"
  dir="rtl"
>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />

    <link
      rel="icon"
      type="image/png"
      href="../assets/images/logo-dark.svg"
    />

    <!-- Css Files -->
    <link
      href="../assets/fullcalendar/packages/core/main.min.css"
      rel="stylesheet"
    />
    <link
      href="../assets/fullcalendar/packages/daygrid/main.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="../assets/css/splide.min.css"
    />
    <link
      rel="stylesheet"
      href="../assets/css/style.min.css"
    />
    <title>Document</title>
  </head>
  <body>
    <header></header>
    <main>
      <div class="page-title container mx-auto mb-10 px-4 md:px-0">
        <h1
          class="relative font-IBM font-bold text-title md:text-h2 text-primary-500 text-center border-b-2 border-[#E2E2E2] pb-5 before:content-[''] before:absolute before:w-[50px] before:h-[6px] before:bg-[#E2E2E2] before:left-1/2 before:-bottom-[3px] before:-translate-x-1/2"
        >
          الفعاليات
        </h1>
      </div>
      <div
        class="filtter bg-gradient py-5 rounded-lg container mx-auto px-4 md:px-5"
      >
        <form
          method="get"
          action=""
        >
          <div class="grid grid-cols-12 gap-3 items-end">
            <div class="lg:col-span-5 md:col-span-6 col-span-12">
              <label
                for="ads-name"
                class="label"
              >
                البحث
              </label>
              <div class="mt-2 relative">
                <input
                  type="text"
                  name="ads-name"
                  id="ads-name"
                  class="input ps-12"
                />
                <img
                  src="../assets/icons/search-normal.svg"
                  alt=""
                  class="absolute top-1/2 right-4 -translate-y-1/2"
                />
              </div>
            </div>
            <div class="lg:col-span-2 md:col-span-6 col-span-12">
              <label
                for="type"
                class="label"
              >
                النوع
              </label>
              <div class="mt-2">
                <!-- Select -->
                <select
                  id="type"
                  data-hs-select='{
                      
                      "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
                      "toggleClasses": "select-input",
                      "dropdownClasses": "select-dropdown",
                      "optionClasses": "select-option",
                      "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-blue-600 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>",
                      "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>"
                    }'
                  class="hidden"
                  name="type"
                >
                  <option
                    selected
                    disabled
                  >
                    النوع
                  </option>
                  <option value="api">API</option>
                  <option value="n">type</option>
                </select>
                <!-- End Select -->
              </div>
            </div>
            <div class="lg:col-span-2 md:col-span-6 col-span-12">
              <label
                for="group"
                class="label"
              >
                الفئة
              </label>
              <div class="mt-2">
                <!-- Select -->
                <select
                  id="group"
                  data-hs-select='{
                        
                        "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
                        "toggleClasses": "select-input",
                        "dropdownClasses": "select-dropdown",
                        "optionClasses": "select-option",
                        "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-blue-600 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>",
                        "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>"
                      }'
                  class="hidden"
                  name="group"
                >
                  <option
                    selected
                    disabled
                  >
                    الفئة
                  </option>
                  <option value="api">API</option>
                  <option value="n">type</option>
                </select>
                <!-- End Select -->
              </div>
            </div>
            <div class="lg:col-span-2 md:col-span-6 col-span-12">
              <label
                for="location"
                class="label"
              >
                الموقع
              </label>
              <div class="mt-2">
                <!-- Select -->
                <select
                  id="location"
                  data-hs-select='{
                          
                          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
                          "toggleClasses": "select-input",
                          "dropdownClasses": "select-dropdown",
                          "optionClasses": "select-option",
                          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-blue-600 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>",
                          "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>"
                        }'
                  class="hidden"
                  name="location"
                >
                  <option
                    selected
                    disabled
                  >
                    الموقع
                  </option>
                  <option value="api">API</option>
                  <option value="n">type</option>
                </select>
                <!-- End Select -->
              </div>
            </div>
            <div class="lg:col-span-1 md:col-span-6 col-span-12">
              <button class="btn-primary py-4 w-full">بحث</button>
            </div>
          </div>
        </form>
      </div>
      <div
        class="main-content py-5 grid grid-cols-3 gap-5 container mx-auto px-4 md:px-0"
      >
        <div class="col-span-3 md:col-span-2">
          <div class="py-5">
            <h3 class="font-IBM text-primary-500 font-bold text-h4 mb-5">
              الفعاليات بالقرب منك
            </h3>
            <div
              style="direction: ltr"
              class="splide splide1"
            >
              <div class="splide__track">
                <ul class="splide__list">
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header global-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="py-5">
            <h3 class="font-IBM text-primary-500 font-bold text-h4 mb-5">
              الأكثر شيوعاً
            </h3>
            <div
              style="direction: ltr"
              class="splide splide2"
            >
              <div class="splide__track">
                <ul class="splide__list">
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header global-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="splide__slide p-1.5">
                    <div class="event-card rounded-lg shadow-card p-5 text-end">
                      <div
                        class="card-header local-event rounded-lg p-5 flex flex-col items-end"
                      >
                        <h3
                          class="font-IBM font-bold text-title text-white mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <div class="badge-primary">
                          <span>الأحد, 28 ابريل 2024</span
                          ><img
                            src="../assets/icons/calendar.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-body p-5 flex flex-col items-end">
                        <h3
                          class="font-IBM font-bold text-title text-primary-600 mb-3"
                        >
                          نهاية السنة
                        </h3>
                        <p class="font-IBM font-normal text-body text-grey-900">
                          وصف فعالية نهاية السنة
                        </p>
                        <div
                          class="location flex justify-end items-center gap-1 my-3"
                        >
                          <p
                            class="font-IBM font-normal text-body text-grey-900"
                          >
                            جدة
                          </p>
                          <img
                            src="../assets/icons/location.svg"
                            alt=""
                          />
                        </div>
                      </div>
                      <div class="card-footer">
                        <a
                          href="event-detail.html"
                          class="btn-primary-secondary"
                        >
                          <img
                            src="../assets/icons/arrow-left.svg"
                            alt=""
                          />
                          <span>عرض التفاصيل</span>
                        </a>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-span-3 md:col-span-1">
          <div class="content">
            <input
              type="text"
              class="form-control"
              id=""
              aria-describedby=""
              placeholder="بحث عن فعاليه "
              style="margin: auto; width: 90%; font-size: 14px"
            />

            <div id="calendar"></div>
          </div>
        </div>
      </div>
    </main>
    <footer></footer>

    <script src="../assets/fullcalendar/packages/core/main.min.js"></script>
    <script src="../assets/fullcalendar/packages/core/locales/ar.js"></script>
    <script src=" ../assets/fullcalendar/packages/interaction/main.js "></script>
    <script src="../assets/fullcalendar/packages/daygrid/main.js"></script>
    <!-- preline JS  -->
    <script src="../assets/js/preline.min.js"></script>
    <!-- splide JS  -->
    <script src="../assets/js/splide.min.js"></script>
    <!-- Custom JS -->
    <script src="../assets/js/script.js"></script>

    <script>
      !(function () {
        var today = moment();

        moment.locale("ar");
        // moment.weekdays(true); // lists weekdays Saturday-Friday in Arabic
        // moment.weekdays(true, 2); //will result in Monday in Arabic
        function Calendar(selector, events) {
          this.el = document.querySelector(selector);
          this.events = events;
          this.current = moment().date(1);
          this.draw();
          var current = document.querySelector(".today");
          if (current) {
            var self = this;
            window.setTimeout(function () {
              self.openDay(current);
            }, 500);
          }
        }

        Calendar.prototype.draw = function () {
          //Create Header
          this.drawHeader();

          //Draw Month
          this.drawMonth();

          this.drawLegend();
        };

        Calendar.prototype.drawHeader = function () {
          var self = this;
          if (!this.header) {
            //Create the header elements
            this.header = createElement("div", "header");
            this.header.className = "header";

            this.title = createElement("h1");

            var right = createElement("div", "right");
            right.addEventListener("click", function () {
              self.nextMonth();
            });

            var left = createElement("div", "left");
            left.addEventListener("click", function () {
              self.prevMonth();
            });

            //Append the Elements
            this.header.appendChild(this.title);
            this.header.appendChild(right);
            this.header.appendChild(left);
            this.el.appendChild(this.header);
          }

          this.title.innerHTML = this.current.format("MMMM YYYY");
        };

        Calendar.prototype.drawMonth = function () {
          var self = this;

          this.events.forEach(function (ev) {
            ev.date = moment(ev.date, "DD/MM/YYYY");
          });

          if (this.month) {
            this.oldMonth = this.month;
            this.oldMonth.className =
              "month out " + (self.next ? "next" : "prev");
            this.oldMonth.addEventListener("webkitAnimationEnd", function () {
              self.oldMonth.parentNode.removeChild(self.oldMonth);
              self.month = createElement("div", "month");
              self.backFill();
              self.currentMonth();
              self.fowardFill();
              self.el.appendChild(self.month);
              window.setTimeout(function () {
                self.month.className =
                  "month in " + (self.next ? "next" : "prev");
              }, 16);
            });
          } else {
            this.month = createElement("div", "month");
            this.el.appendChild(this.month);
            this.backFill();
            this.currentMonth();
            this.fowardFill();
            this.month.className = "month new";
          }
        };

        Calendar.prototype.backFill = function () {
          var clone = this.current.clone();
          var dayOfWeek = clone.day();

          if (!dayOfWeek) {
            return;
          }

          clone.subtract("days", dayOfWeek + 1);

          for (var i = dayOfWeek; i > 0; i--) {
            this.drawDay(clone.add("days", 1));
          }
        };

        Calendar.prototype.fowardFill = function () {
          var clone = this.current.clone().add("months", 1).subtract("days", 1);
          var dayOfWeek = clone.day();

          if (dayOfWeek === 6) {
            return;
          }

          for (var i = dayOfWeek; i < 6; i++) {
            this.drawDay(clone.add("days", 1));
          }
        };

        Calendar.prototype.currentMonth = function () {
          var clone = this.current.clone();

          while (clone.month() === this.current.month()) {
            this.drawDay(clone);
            clone.add("days", 1);
          }
        };

        Calendar.prototype.getWeek = function (day) {
          if (!this.week || day.day() === 0) {
            this.week = createElement("div", "week");
            this.month.appendChild(this.week);
          }
        };

        Calendar.prototype.drawDay = function (day) {
          var self = this;
          this.getWeek(day);

          //Outer Day
          var outer = createElement("div", this.getDayClass(day));
          outer.addEventListener("click", function () {
            self.openDay(this);
          });

          //Day Name
          var name = createElement("div", "day-name", day.format("ddd"));

          //Day Number
          var number = createElement("div", "day-number", day.format("DD"));

          //Events
          var events = createElement("div", "day-events");
          this.drawEvents(day, events);

          outer.appendChild(name);
          outer.appendChild(number);
          outer.appendChild(events);
          this.week.appendChild(outer);
        };

        Calendar.prototype.drawEvents = function (day, element) {
          if (day.month() === this.current.month()) {
            var todaysEvents = this.events.reduce(function (memo, ev) {
              if (ev.date.isSame(day, "day")) {
                memo.push(ev);
              }
              return memo;
            }, []);

            todaysEvents.forEach(function (ev) {
              var evSpan = createElement("span", ev.color);
              element.appendChild(evSpan);
            });
          }
        };

        Calendar.prototype.getDayClass = function (day) {
          classes = ["day"];
          if (day.month() !== this.current.month()) {
            classes.push("other");
          } else if (today.isSame(day, "day")) {
            classes.push("today");
          }
          return classes.join(" ");
        };

        Calendar.prototype.openDay = function (el) {
          var details, arrow;
          var dayNumber =
            +el.querySelectorAll(".day-number")[0].innerText ||
            +el.querySelectorAll(".day-number")[0].textContent;
          var day = this.current.clone().date(dayNumber);

          var currentOpened = document.querySelector(".details");

          //Check to see if there is an open detais box on the current row
          if (currentOpened && currentOpened.parentNode === el.parentNode) {
            details = currentOpened;
            arrow = document.querySelector(".arrow");
          } else {
            //Close the open events on differnt week row
            //currentOpened && currentOpened.parentNode.removeChild(currentOpened);
            if (currentOpened) {
              currentOpened.addEventListener("webkitAnimationEnd", function () {
                currentOpened.parentNode.removeChild(currentOpened);
              });
              currentOpened.addEventListener("oanimationend", function () {
                currentOpened.parentNode.removeChild(currentOpened);
              });
              currentOpened.addEventListener("msAnimationEnd", function () {
                currentOpened.parentNode.removeChild(currentOpened);
              });
              currentOpened.addEventListener("animationend", function () {
                currentOpened.parentNode.removeChild(currentOpened);
              });
              currentOpened.className = "details out";
            }

            //Create the Details Container
            details = createElement("div", "details in");

            //Create the arrow
            var arrow = createElement("div", "arrow");

            //Create the event wrapper

            details.appendChild(arrow);
            el.parentNode.appendChild(details);
          }

          var todaysEvents = this.events.reduce(function (memo, ev) {
            if (ev.date.isSame(day, "day")) {
              memo.push(ev);
            }
            return memo;
          }, []);

          this.renderEvents(todaysEvents, details);

          arrow.style.left =
            el.offsetLeft - el.parentNode.offsetLeft + 27 + "px";
        };

        Calendar.prototype.renderEvents = function (events, ele) {
          //Remove any events in the current details element
          var currentWrapper = ele.querySelector(".events");
          var wrapper = createElement(
            "div",
            "events in" + (currentWrapper ? " new" : "")
          );

          events.forEach(function (ev) {
            var div = createElement("div", "event");
            var square = createElement("div", "event-category " + ev.color);
            var span = createElement("span", "", ev.eventName);

            div.appendChild(square);
            div.appendChild(span);
            wrapper.appendChild(div);
          });

          if (!events.length) {
            var div = createElement("div", "event empty");
            var span = createElement("span", "", "لا يوحد فعاليات");

            div.appendChild(span);
            wrapper.appendChild(div);
          }

          if (currentWrapper) {
            currentWrapper.className = "events out";
            currentWrapper.addEventListener("webkitAnimationEnd", function () {
              currentWrapper.parentNode.removeChild(currentWrapper);
              ele.appendChild(wrapper);
            });
            currentWrapper.addEventListener("oanimationend", function () {
              currentWrapper.parentNode.removeChild(currentWrapper);
              ele.appendChild(wrapper);
            });
            currentWrapper.addEventListener("msAnimationEnd", function () {
              currentWrapper.parentNode.removeChild(currentWrapper);
              ele.appendChild(wrapper);
            });
            currentWrapper.addEventListener("animationend", function () {
              currentWrapper.parentNode.removeChild(currentWrapper);
              ele.appendChild(wrapper);
            });
          } else {
            ele.appendChild(wrapper);
          }
        };

        Calendar.prototype.drawLegend = function () {
          var legend = createElement("div", "legend");
          var calendars = this.events
            .map(function (e) {
              return e.calendar + "|" + e.color;
            })
            .reduce(function (memo, e) {
              if (memo.indexOf(e) === -1) {
                memo.push(e);
              }
              return memo;
            }, [])
            .forEach(function (e) {
              var parts = e.split("|");
              var entry = createElement("span", "entry " + parts[1], parts[0]);
              legend.appendChild(entry);
            });
          this.el.appendChild(legend);
        };

        Calendar.prototype.nextMonth = function () {
          this.current.add("months", 1);
          this.next = true;
          this.draw();
        };

        Calendar.prototype.prevMonth = function () {
          this.current.subtract("months", 1);
          this.next = false;
          this.draw();
        };

        window.Calendar = Calendar;

        function createElement(tagName, className, innerText) {
          var ele = document.createElement(tagName);
          if (className) {
            ele.className = className;
          }
          if (innerText) {
            ele.innderText = ele.textContent = innerText;
          }
          return ele;
        }
      })();
    </script>
  </body>
</html>
